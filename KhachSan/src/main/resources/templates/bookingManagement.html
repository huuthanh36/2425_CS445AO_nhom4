<!DOCTYPE html>
<html lang="en" dir="ltr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Booking List</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- DataTables CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap4.min.css">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <!-- DataTables JS -->
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>
    <!-- Bootstrap JS (Optional) -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>

    <style>
        body {
            background-color: #f8f9fa; /* Light background color */
        }

        .content {
            padding: 50px 0; /* Add space above and below the content */
        }

        .centered-table {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .table-responsive {
            background-color: #ffffff; /* White background for the table */
            padding: 20px;
            border-radius: 10px; /* Rounded corners */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
            width: 100%;
            max-width: 1200px; /* Limit the max width */
        }

        .back-button {
            margin-bottom: 20px; /* Add space below the button */
            display: flex;
            justify-content: flex-start;
        }

        .dataTable thead th {
            background-color: #343a40; /* Dark header background */
            color: #ffffff; /* White header text */
        }

        .dataTable tfoot th {
            background-color: #343a40; /* Dark footer background */
            color: #ffffff; /* White footer text */
        }

        .btn-primary {
            background-color: #007bff; /* Primary button color */
            border-color: #007bff;
        }

        .btn-primary:hover {
            background-color: #0056b3; /* Darker blue on hover */
            border-color: #0056b3;
        }

        .btn-secondary {
            background-color: #6c757d; /* Secondary button color */
            border-color: #6c757d;
        }

        .btn-secondary:hover {
            background-color: #5a6268; /* Darker gray on hover */
            border-color: #545b62;
        }
    </style>
    <script>
        $(document).ready(function() {
            $('#example').DataTable({
                "pagingType": "full_numbers",
                "lengthChange": false,
                "searching": true,
                "ordering": true,
                "info": true,
                "autoWidth": false,
                "pageLength": 5
            });
        });
    </script>
</head>
<body>
<h1 class="mt-3 mb-4 text-center">Quản lý Booking</h1>

<div class="container content centered-table">
    <div class="table-responsive">
        <div class="back-button">
            <a  th:href="@{/returnHome}" class="btn btn-primary">Back to Home</a>
        </div>

        <form th:action="@{/listBooking/deleteCheckBox}" method="post">
            <table th:if="${bookingList != null}" class="display dataTable" id="example">
                <thead>
                <tr>
                    <th>STT</th>
                    <th>User Name</th>
                    <th>Booking Date</th>
                    <th>Check in Date</th>
                    <th>Check Out Date</th>
                    <th>Room Name</th>
                    <th>Total Price</th>
                    <th>Describe</th>
                    <th>Delete</th>
                </tr>
                </thead>
                <tbody id="result">
                <tr th:each="booking, status: ${bookingList}" th:object="${booking}">
                    <td th:text="${status.index + 1}"></td>
                    <td th:text="*{user.fullName}"></td>
                    <td th:text="*{bookingDate}"></td>
                    <td th:text="*{checkInDate}"></td>
                    <td th:text="*{checkOutDate}"></td>
                    <td th:text="*{room.roomName}"></td>
                    <td th:text="*{totalPrice}"></td>
                    <td th:text="*{describe}"></td>
                    <td>
                        <input type="checkbox" th:name="idChecked" th:value="${booking.getBookingId()}"/>
                    </td>
                </tr>
                </tbody>
                <tfoot>
                <tr>
                    <td colspan="8"></td>
                    <td>
                        <button type="submit" name='delete' value="delete" class='btn btn-secondary btn-sm' data-toggle="tooltip" data-placement="right" th:attr="data-confirm='Bạn có muốn xóa'" onclick="return confirmDelete(this.getAttribute('data-confirm'));">
                            Submit
                        </button>
                    </td>
                </tr>
                </tfoot>
            </table>
        </form>
    </div>
</div>

<script>
    function confirmDelete(message) {
        return confirm(message);
    }
</script>
</body>
</html>
